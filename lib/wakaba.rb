# frozen_string_literal: true

require_relative 'wakaba/version'

# main module
module Wakaba
  class Error < StandardError; end

  # propose a solution in Japanese
  module ExceptionJp
    def output_message(error_type)
      case error_type
      when NoMethodError
        <<~SUGGESTION


          â•­â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â•®
          | ãƒ» #{name}ã¨ã„ã†åå‰ã®ãƒ¡ã‚½ãƒƒãƒ‰ã¯å­˜åœ¨ã™ã‚‹ã‹ã«ã‚ƒï¼Ÿ
          | ãƒ» #{name}ã‚’å‘¼ã³å‡ºã—ãŸã‘ã©ãƒ¬ã‚·ãƒ¼ãƒãŒnilã«ã‚ƒï¼Ÿ
          â•°â”ï½–â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â•¯
          ðŸˆðŸˆ


        SUGGESTION
      when NameError
        <<~SUGGESTION


          â•­â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â•®
          | ãƒ» #{name}ã£ã¦ã‚¿ã‚¤ãƒã—ã¦ã«ã‚ƒã„ï¼Ÿ
          | ãƒ» requireãŒå¿…è¦ã˜ã‚ƒã«ã‚ƒã„ã‹ãªï¼Ÿ
          â•°â”ï½–â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â•¯
          ðŸˆ"


        SUGGESTION
      when TypeError
        <<~SUGGESTION


          â•­â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â•®
          | æœŸå¾…ã—ã«ã‚ƒã„åž‹ãŒãƒ¡ã‚½ãƒƒãƒ‰ã®å¼•æ•°ã«æ¸¡ã•ã‚Œã¦ã„ã‚‹ï¾†ï½¬ï½°
          â•°â”ï½–â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â•¯
          ðŸ˜¿


        SUGGESTION
      when ArgumentError
        <<~SUGGESTION


          â•­â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â•®
          | ãƒ»å¼•æ•°ã®æ•°ãŒé•ã†ï¾†ï½¬ï¾ï¼Ÿ
          | ãƒ»ãƒ¡ã‚½ãƒƒãƒ‰ã«æ¸¡ã—ãŸå€¤ã¯æœŸå¾…ã—ãŸã‚‚ã®ã‹ï¾†ï½¬ï¾ï¼Ÿ
          â•°â”ï½–â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â•¯
          âœ¨ðŸ˜¼âœ¨


        SUGGESTION
      when ZeroDivisionError
        <<~SUGGESTION


          â•­â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â•®
          | 0ã§é™¤ç®—ã™ã‚‹ã¨ã“ã®ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã™ã‚‹ãƒ‹ãƒ£ãƒ³
          â•°â”ï½–â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â•¯
          ðŸ™€ðŸ™€ðŸ™€


        SUGGESTION
      end
    end

    def message
      if self
        error_type = self
        puts "\e[31m#{self}\e[0m"
        output_message(error_type)
      else
        super
      end
    end
  end
  Exception.prepend(ExceptionJp)
end
